<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Persistent Reviews</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    .review-form input, .review-form textarea, .review-form select {
      width: 100%; margin-bottom: 10px; padding: 8px;
    }
    .review-form button {
      padding: 10px; background: #28a745; color: white; border: none; cursor: pointer;
    }
    .review { background: #f9f9f9; padding: 15px; margin-top: 10px; border-radius: 8px; }
    .stars { color: gold; }
  </style>
</head>
<body>

<h2>Leave a Review</h2>
<div class="review-form">
  <input type="text" id="name" placeholder="Your Name">
  <select id="rating">
    <option value="5">★★★★★</option>
    <option value="4">★★★★☆</option>
    <option value="3">★★★☆☆</option>
    <option value="2">★★☆☆☆</option>
    <option value="1">★☆☆☆☆</option>
  </select>
  <textarea id="comment" rows="4" placeholder="Write your review..."></textarea>
  <button onclick="addReview()">Submit Review</button>
</div>

<h2>Reviews</h2>
<div id="reviews"></div>

<script>
  // Load existing reviews
  window.onload = function () {
    const reviews = JSON.parse(localStorage.getItem('reviews') || '[]');
    reviews.forEach(r => showReview(r));
  };

  function addReview() {
    const name = document.getElementById('name').value;
    const rating = parseInt(document.getElementById('rating').value);
    const comment = document.getElementById('comment').value;

    if (!name || !comment) {
      alert("Fill all fields");
      return;
    }

    const review = { name, rating, comment };

    // Save to localStorage
    const reviews = JSON.parse(localStorage.getItem('reviews') || '[]');
    reviews.unshift(review); // Add new review to start
    localStorage.setItem('reviews', JSON.stringify(reviews));

    showReview(review);

    // Clear form
    document.getElementById('name').value = '';
    document.getElementById('rating').value = '5';
    document.getElementById('comment').value = '';
  }

  function showReview(r) {
    const reviewDiv = document.createElement('div');
    reviewDiv.className = 'review';
    reviewDiv.innerHTML = `
      <strong>${r.name}</strong><br>
      <div class="stars">${'★'.repeat(r.rating)}${'☆'.repeat(5 - r.rating)}</div>
      <p>${r.comment}</p>
    `;
    document.getElementById('reviews').prepend(reviewDiv);
  }
</script>

</body>
</html>
